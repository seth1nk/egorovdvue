(function(){"use strict";var e={1201:function(e,t,a){var s=a(5130),l=a(6768),n=a(4232);const r={class:"wrapper"},o={class:"right-panel"},i={class:"logo-container"},c={class:"nav-buttons"},d={class:"button-list"},u={key:0},v={key:1},h={key:2},g={key:3},p={key:4,class:"welcome-message"},k={key:5},m={key:6};function b(e,t,a,s,b,f){const L=(0,l.g2)("router-view"),y=(0,l.g2)("TheWelcome"),w=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("header",null,[(0,l.Lk)("div",r,[(0,l.bF)(L)]),t[1]||(t[1]=(0,l.Lk)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap",rel:"stylesheet"},null,-1))]),(0,l.Lk)("main",null,[(0,l.bF)(y)]),(0,l.Lk)("aside",o,[(0,l.Lk)("div",i,[(0,l.bF)(w,{to:"/"},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.Lk)("img",{src:"/images/logo.png",alt:"Logo",class:"logo"},null,-1)]))),_:1})]),(0,l.Lk)("nav",c,[(0,l.Lk)("ul",d,[(0,l.Lk)("li",null,[(0,l.bF)(w,{to:"/",class:"button"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)("Главная")]))),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(w,{to:"/about",class:"button"},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)("О нас")]))),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(w,{to:"/contact",class:"button"},{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)("Контакты")]))),_:1})]),b.isAuthenticated?((0,l.uX)(),(0,l.CE)("li",u,[(0,l.bF)(w,{to:"/televisions",class:"button"},{default:(0,l.k6)((()=>t[6]||(t[6]=[(0,l.eW)("Телевизоры")]))),_:1})])):(0,l.Q3)("",!0),b.isAuthenticated?((0,l.uX)(),(0,l.CE)("li",v,[(0,l.bF)(w,{to:"/sales",class:"button"},{default:(0,l.k6)((()=>t[7]||(t[7]=[(0,l.eW)("Продажи")]))),_:1})])):(0,l.Q3)("",!0),b.isAuthenticated?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("li",h,[(0,l.bF)(w,{to:"/login",class:"button"},{default:(0,l.k6)((()=>t[8]||(t[8]=[(0,l.eW)("Войти")]))),_:1})])),b.isAuthenticated?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("li",g,[(0,l.bF)(w,{to:"/register",class:"button"},{default:(0,l.k6)((()=>t[9]||(t[9]=[(0,l.eW)("Зарегистрироваться")]))),_:1})])),b.isAuthenticated?((0,l.uX)(),(0,l.CE)("li",p,[(0,l.Lk)("span",null,"Добро пожаловать, "+(0,n.v_)(b.username),1)])):(0,l.Q3)("",!0),b.isAuthenticated?((0,l.uX)(),(0,l.CE)("li",k,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>f.logout&&f.logout(...e)),class:"button"},"Выйти")])):(0,l.Q3)("",!0),b.isAuthenticated&&"admin"===b.role?((0,l.uX)(),(0,l.CE)("li",m,t[10]||(t[10]=[(0,l.Lk)("a",{href:"http://localhost:3000",class:"admin-button"},"Админ-панель",-1)]))):(0,l.Q3)("",!0)])])])],64)}a(4114);var f={data(){return{isAuthenticated:!1,username:"",role:""}},created(){this.checkAuth()},methods:{async checkAuth(){try{const e=await fetch("http://localhost:3000/auth/check",{method:"GET",credentials:"include"}),t=await e.json();e.ok?(this.isAuthenticated=!0,this.username=t.username||"Пользователь",this.role=t.role||""):(console.error("Токен недействителен:",t.message),this.isAuthenticated=!1,this.username="",this.role="")}catch(e){console.error("Ошибка проверки авторизации:",e),this.isAuthenticated=!1,this.username="",this.role=""}},async logout(){try{const e=await fetch("http://localhost:3000/auth/logout",{method:"GET",credentials:"include"});e.ok?(this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")):console.error("Сервер вернул ошибку при выходе")}catch(e){console.error("Ошибка выхода:",e),this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")}}}},L=a(1241);const y=(0,L.A)(f,[["render",b],["__scopeId","data-v-9078be56"]]);var w=y,x=a(1387);const C={class:"container"},E={class:"flex flex-col sm:flex-row gap-6 mb-10 justify-center"},_=["src","alt"],P={class:"card-body"},A={class:"text-xl font-bold text-center mb-3"},X={class:"card-text text-center"},T={class:"grid grid-cols-1 md:grid-cols-1 gap-6 mb-12"},$={class:"content-block card fade-in",style:{animationDelay:"0.2s"}},I={class:"text-lg space-y-4"},S={class:"text-gray-600"};function N(e,t,a,s,r,o){return(0,l.uX)(),(0,l.CE)("main",null,[(0,l.Lk)("div",C,[t[2]||(t[2]=(0,l.Lk)("h1",{class:"page-title"},"Продажа телевизоров",-1)),(0,l.Lk)("div",E,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.services,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"image-block-centered card fade-in",key:t,style:(0,n.Tr)({animationDelay:.2*t+"s"})},[(0,l.Lk)("img",{src:e.image,alt:e.name,class:"img-block h-48 w-full object-cover"},null,8,_),(0,l.Lk)("div",P,[(0,l.Lk)("h5",A,(0,n.v_)(e.name),1),(0,l.Lk)("p",X,(0,n.v_)(e.description),1)])],4)))),128))]),(0,l.Lk)("div",T,[(0,l.Lk)("div",$,[t[1]||(t[1]=(0,l.Lk)("h4",{class:"text-2xl font-bold mb-4 text-center"},"Почему мы?",-1)),(0,l.Lk)("ul",I,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.reasons,((e,a)=>((0,l.uX)(),(0,l.CE)("li",{class:"flex items-center bg-white bg-opacity-20 p-3 rounded-lg fade-in",key:a,style:(0,n.Tr)({animationDelay:.2*(a+1)+"s"})},[t[0]||(t[0]=(0,l.Lk)("span",{class:"text-green-500 mr-3 text-2xl"},"✅",-1)),(0,l.Lk)("span",S,(0,n.v_)(e),1)],4)))),128))])])])])])}a(8111),a(7588);var j={name:"HomePage",data(){return{services:[{name:"Подбор телевизора",description:"Помощь в выборе модели телевизора под ваши потребности и бюджет.",image:"/images/1.png"},{name:"Консультации по характеристикам",description:"Подробные консультации по технологиям экрана и функциям телевизоров.",image:"/images/2.png"},{name:"Доставка и установка",description:"Быстрая доставка и профессиональная установка телевизоров у вас дома.",image:"/images/3.png"}],reasons:["Широкий ассортимент телевизоров от ведущих брендов","Гарантия качества и оригинальности продукции","Профессиональная поддержка и быстрая доставка"]}},mounted(){try{const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(t.target.classList.add("visible"),e.unobserve(t.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((t=>{e.observe(t)}))}catch(e){console.error("Error setting up IntersectionObserver:",e)}}};const F=(0,L.A)(j,[["render",N],["__scopeId","data-v-612351b8"]]);var W=F;const O={class:"container"},Q={class:"content-block fade-in",ref:"block1"},M={class:"content-block fade-in",ref:"block2"},U={class:"content-block fade-in",ref:"block3"},D={class:"content-block fade-in",ref:"block4"},q={class:"content-block fade-in",ref:"block5"};function G(e,t,a,s,n,r){return(0,l.uX)(),(0,l.CE)("main",null,[(0,l.Lk)("div",O,[t[5]||(t[5]=(0,l.Lk)("h1",{class:"page-title"},"О магазине телевизоров",-1)),(0,l.Lk)("div",Q,t[0]||(t[0]=[(0,l.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-c82ba3c6><div class="md:w-1/2 text-block" data-v-c82ba3c6><h2 class="text-2xl font-bold mb-4" data-v-c82ba3c6>Широкий ассортимент</h2><p class="fs-5" data-v-c82ba3c6> Мы предлагаем телевизоры различных брендов, размеров и технологий для любых потребностей. </p></div><div class="md:w-1/2 image-block" data-v-c82ba3c6><img src="/images/11.png" alt="Широкий ассортимент" class="img-block" data-v-c82ba3c6></div></div>',1)]),512),(0,l.Lk)("div",M,t[1]||(t[1]=[(0,l.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-c82ba3c6><div class="md:w-1/2 image-block order-2 md:order-1" data-v-c82ba3c6><img src="/images/22.png" alt="Высокое качество продукции" class="img-block" data-v-c82ba3c6></div><div class="md:w-1/2 text-block order-1 md:order-2" data-v-c82ba3c6><h2 class="text-2xl font-bold mb-4" data-v-c82ba3c6>Высокое качество продукции</h2><p class="fs-5" data-v-c82ba3c6> Все телевизоры проходят проверку качества и имеют официальную гарантию. </p></div></div>',1)]),512),(0,l.Lk)("div",U,t[2]||(t[2]=[(0,l.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-c82ba3c6><div class="md:w-1/2 text-block" data-v-c82ba3c6><h2 class="text-2xl font-bold mb-4" data-v-c82ba3c6>Индивидуальный подход</h2><p class="fs-5" data-v-c82ba3c6> Наши консультанты помогут выбрать телевизор, учитывая ваши предпочтения и бюджет. </p></div><div class="md:w-1/2 image-block" data-v-c82ba3c6><img src="/images/33.jpg" alt="Индивидуальный подход" class="img-block" data-v-c82ba3c6></div></div>',1)]),512),(0,l.Lk)("div",D,t[3]||(t[3]=[(0,l.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-c82ba3c6><div class="md:w-1/2 image-block order-2 md:order-1" data-v-c82ba3c6><img src="/images/44.png" alt="Быстрая доставка" class="img-block" data-v-c82ba3c6></div><div class="md:w-1/2 text-block order-1 md:order-2" data-v-c82ba3c6><h2 class="text-2xl font-bold mb-4" data-v-c82ba3c6>Быстрая доставка</h2><p class="fs-5" data-v-c82ba3c6> Доставка и установка телевизоров в кратчайшие сроки для вашего удобства. </p></div></div>',1)]),512),(0,l.Lk)("div",q,t[4]||(t[4]=[(0,l.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-c82ba3c6><div class="md:w-1/2 text-block" data-v-c82ba3c6><h2 class="text-2xl font-bold mb-4" data-v-c82ba3c6>Поддержка клиентов</h2><p class="fs-5" data-v-c82ba3c6> Мы предоставляем консультации и поддержку на всех этапах покупки. </p></div><div class="md:w-1/2 image-block" data-v-c82ba3c6><img src="/images/55.jpg" alt="Поддержка клиентов" class="img-block" data-v-c82ba3c6></div></div>',1)]),512)])])}var H={name:"AboutPage",mounted(){try{const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(t.target.classList.add("visible"),e.unobserve(t.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((t=>{e.observe(t)}))}catch(e){console.error("Error setting up IntersectionObserver:",e)}}};const J=(0,L.A)(H,[["render",G],["__scopeId","data-v-c82ba3c6"]]);var V=J;const K={class:"container"},z={class:"mb-12"},R={class:"employees-row"},Y={class:"card"},Z=["src","alt"],B={class:"card-body"},ee={class:"card-title"},te={class:"card-text"},ae={class:"card-text text-gray-600"};function se(e,t,a,s,r,o){return(0,l.uX)(),(0,l.CE)("main",null,[(0,l.Lk)("div",K,[t[1]||(t[1]=(0,l.Fv)('<h1 class="page-title" data-v-bf46d938>Наша команда по продажам телевизоров</h1><div class="content-block fade-in mb-12" data-v-bf46d938><div class="text-block" data-v-bf46d938><h2 class="text-2xl font-bold text-center mb-4" data-v-bf46d938>О нашем сервисе</h2><p class="fs-5 text-center" data-v-bf46d938> Наш магазин предлагает широкий выбор телевизоров от ведущих брендов. Мы поможем подобрать идеальную модель и обеспечим быструю доставку. </p></div></div>',2)),(0,l.Lk)("div",z,[t[0]||(t[0]=(0,l.Lk)("h2",{class:"text-2xl font-bold text-center mb-6"},"Наша команда",-1)),(0,l.Lk)("div",R,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.employees,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"employee-card photo-card fade-in",key:t,style:(0,n.Tr)({animationDelay:.2*t+"s"})},[(0,l.Lk)("div",Y,[(0,l.Lk)("img",{src:e.image,alt:e.name,class:"card-img-top"},null,8,Z),(0,l.Lk)("div",B,[(0,l.Lk)("h3",ee,(0,n.v_)(e.name),1),(0,l.Lk)("p",te,(0,n.v_)(e.role),1),(0,l.Lk)("p",ae,"Стаж: "+(0,n.v_)(e.experience),1)])])],4)))),128))])]),t[2]||(t[2]=(0,l.Fv)('<div class="content-block fade-in" data-v-bf46d938><div class="text-block" data-v-bf46d938><h2 class="text-2xl font-bold text-center mb-6" data-v-bf46d938>Наши услуги</h2></div><div class="grid grid-cols-1 md:grid-cols-3 gap-6" data-v-bf46d938><div class="text-center fade-in" style="animation-delay:0.2s;" data-v-bf46d938><h3 class="text-xl font-bold mb-2" data-v-bf46d938>+ Подбор телевизоров</h3><p class="text-gray-600" data-v-bf46d938>Помощь в выборе телевизора под ваши потребности и бюджет.</p></div><div class="text-center fade-in" style="animation-delay:0.4s;" data-v-bf46d938><h3 class="text-xl font-bold mb-2" data-v-bf46d938>+ Доставка и установка</h3><p class="text-gray-600" data-v-bf46d938>Быстрая доставка и профессиональная установка телевизоров.</p></div><div class="text-center fade-in" style="animation-delay:0.6s;" data-v-bf46d938><h3 class="text-xl font-bold mb-2" data-v-bf46d938>+ Консультации</h3><p class="text-gray-600" data-v-bf46d938>Подробные консультации по характеристикам и технологиям.</p></div></div></div>',1))])])}var le={name:"ContactPage",data(){return{employees:[{name:"Алексей Ковалёв",role:"Менеджер по продажам телевизоров",experience:"7 лет",image:"/images/a1.jpg"},{name:"Николай Смирнов",role:"Консультант по подбору техники",experience:"5 лет",image:"/images/a2.png"},{name:"Дмитрий Попов",role:"Менеджер по клиентскому сервису",experience:"9 лет",image:"/images/a3.jpg"},{name:"Анастасия Лебедева",role:"Специалист по установке телевизоров",experience:"4 года",image:"/images/a4.jpg"},{name:"Мария Зайцева",role:"Консультант по технологиям экрана",experience:"6 лет",image:"/images/a5.jpg"},{name:"Сергей Иванов",role:"Менеджер по доставке",experience:"3 года",image:"/images/a6.jpg"}]}},mounted(){try{const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(t.target.classList.add("visible"),e.unobserve(t.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((t=>{e.observe(t)}))}catch(e){console.error("Error setting up IntersectionObserver:",e)}}};const ne=(0,L.A)(le,[["render",se],["__scopeId","data-v-bf46d938"]]);var re=ne;const oe={class:"app-container"},ie={class:"table-container"},ce={class:"styled-table televisions-table"},de=["src"],ue={key:1},ve={class:"action-buttons"},he={key:0,class:"no-data"},ge={key:1,class:"pagination"},pe=["disabled"],ke=["disabled"];function me(e,t,a,s,r,o){const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",null,[t[5]||(t[5]=(0,l.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),(0,l.Lk)("div",oe,[t[4]||(t[4]=(0,l.Lk)("h1",{class:"page-title"},"Список телевизоров",-1)),(0,l.Lk)("div",ie,[(0,l.Lk)("table",ce,[t[3]||(t[3]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"ID"),(0,l.Lk)("th",null,"Название модели"),(0,l.Lk)("th",null,"Описание"),(0,l.Lk)("th",null,"Бренд"),(0,l.Lk)("th",null,"Тип экрана"),(0,l.Lk)("th",null,"Год выпуска"),(0,l.Lk)("th",null,"В наличии"),(0,l.Lk)("th",null,"Цена"),(0,l.Lk)("th",null,"Фото"),(0,l.Lk)("th",null,"Действия")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.televisions,((e,a)=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,(0,n.v_)((r.currentPage-1)*r.pageSize+a+1),1),(0,l.Lk)("td",null,(0,n.v_)(e.name||"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(e.description||"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(e.brand||"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(e.screenType||"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(e.releaseYear||"N/A"),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["status",o.getStatusClass(e.isInStock)])},(0,n.v_)(e.isInStock?"В наличии":"Нет в наличии"),3)]),(0,l.Lk)("td",null,(0,n.v_)(o.formatPrice(e.price)),1),(0,l.Lk)("td",null,[e.photo?((0,l.uX)(),(0,l.CE)("img",{key:0,src:`${r.backendUrl}${e.photo}`,alt:"Television Photo",class:"product-image"},null,8,de)):((0,l.uX)(),(0,l.CE)("span",ue,"N/A"))]),(0,l.Lk)("td",null,[(0,l.Lk)("div",ve,[(0,l.bF)(i,{to:`/view-televisions/${e.id}`,class:"action-btn view-icon"},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.Lk)("i",{class:"fas fa-eye"},null,-1)]))),_:2},1032,["to"])])])])))),128))])]),r.televisions.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("p",he,"Нет телевизоров")),r.totalPages>1?((0,l.uX)(),(0,l.CE)("div",ge,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.prevPage&&o.prevPage(...e)),disabled:1===r.currentPage},"← Предыдущая",8,pe),(0,l.Lk)("span",null,"Страница "+(0,n.v_)(r.currentPage)+" из "+(0,n.v_)(r.totalPages),1),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>o.nextPage&&o.nextPage(...e)),disabled:r.currentPage===r.totalPages},"Следующая →",8,ke)])):(0,l.Q3)("",!0)])])])}var be={data(){return{televisions:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"http://localhost:3000"}},async created(){await this.fetchTelevisions()},methods:{async fetchTelevisions(){try{const e=await fetch(`${this.backendUrl}/api/televisions?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!e.ok){if(401===e.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${e.status}`)}const t=await e.json();console.log("Данные с сервера:",t),this.televisions=t.televisions||[],this.totalPages=t.totalPages||0,this.currentPage=t.currentPage||1}catch(e){console.error("Ошибка при получении телевизоров:",e),this.televisions=[],this.totalPages=0}},formatPrice(e){return"number"!==typeof e||isNaN(e)?"0.00":e.toFixed(2)},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchTelevisions())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchTelevisions())},getStatusClass(e){return e?"available":"unavailable"}}};const fe=(0,L.A)(be,[["render",me],["__scopeId","data-v-159d2e16"]]);var Le=fe;const ye={class:"app-container"},we={class:"table-container"},xe={class:"styled-table sales-table"},Ce=["src"],Ee={key:1},_e={class:"action-buttons"},Pe={key:0,class:"no-data"},Ae={key:1,class:"pagination"},Xe=["disabled"],Te=["disabled"];function $e(e,t,a,s,r,o){const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",null,[t[5]||(t[5]=(0,l.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),(0,l.Lk)("div",ye,[t[4]||(t[4]=(0,l.Lk)("h1",{class:"page-title"},"Список продаж",-1)),(0,l.Lk)("div",we,[(0,l.Lk)("table",xe,[t[3]||(t[3]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"ID"),(0,l.Lk)("th",null,"Имя клиента"),(0,l.Lk)("th",null,"Комментарий"),(0,l.Lk)("th",null,"Адрес доставки"),(0,l.Lk)("th",null,"Способ оплаты"),(0,l.Lk)("th",null,"Год продажи"),(0,l.Lk)("th",null,"Подтверждена"),(0,l.Lk)("th",null,"Номер заказа"),(0,l.Lk)("th",null,"Фото"),(0,l.Lk)("th",null,"Действия")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.sales,((e,a)=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,(0,n.v_)((r.currentPage-1)*r.pageSize+a+1),1),(0,l.Lk)("td",null,(0,n.v_)(e.customerName||"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(e.notes||"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(e.deliveryAddress||"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(e.paymentMethod||"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(e.saleYear||"N/A"),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["status",o.getStatusClass(e.isConfirmed)])},(0,n.v_)(e.isConfirmed?"Подтверждена":"Не подтверждена"),3)]),(0,l.Lk)("td",null,(0,n.v_)(e.orderNumber||"N/A"),1),(0,l.Lk)("td",null,[e.photo?((0,l.uX)(),(0,l.CE)("img",{key:0,src:`${r.backendUrl}${e.photo}`,alt:"Sale Photo",class:"product-image"},null,8,Ce)):((0,l.uX)(),(0,l.CE)("span",Ee,"N/A"))]),(0,l.Lk)("td",null,[(0,l.Lk)("div",_e,[(0,l.bF)(i,{to:`/view-sales/${e.id}`,class:"action-btn view-icon"},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.Lk)("i",{class:"fas fa-eye"},null,-1)]))),_:2},1032,["to"])])])])))),128))])]),r.sales.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("p",Pe,"Нет продаж")),r.totalPages>1?((0,l.uX)(),(0,l.CE)("div",Ae,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.prevPage&&o.prevPage(...e)),disabled:1===r.currentPage},"← Предыдущая",8,Xe),(0,l.Lk)("span",null,"Страница "+(0,n.v_)(r.currentPage)+" из "+(0,n.v_)(r.totalPages),1),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>o.nextPage&&o.nextPage(...e)),disabled:r.currentPage===r.totalPages},"Следующая →",8,Te)])):(0,l.Q3)("",!0)])])])}var Ie={data(){return{sales:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"http://localhost:3000"}},async created(){await this.fetchSales()},methods:{async fetchSales(){try{const e=await fetch(`${this.backendUrl}/api/sales?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!e.ok){if(401===e.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${e.status}`)}const t=await e.json();this.sales=t.sales||[],this.totalPages=t.totalPages||0,this.currentPage=t.currentPage||1}catch(e){console.error("Ошибка при получении продаж:",e),this.sales=[],this.totalPages=0}},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchSales())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchSales())},getStatusClass(e){return e?"available":"unavailable"}}};const Se=(0,L.A)(Ie,[["render",$e],["__scopeId","data-v-43e2843e"]]);var Ne=Se;const je={class:"container"},Fe={class:"form-group"},We={class:"form-group"},Oe={key:0,class:"error"};function Qe(e,t,a,r,o,i){return(0,l.uX)(),(0,l.CE)("div",je,[t[6]||(t[6]=(0,l.Lk)("h2",null,"Вход",-1)),(0,l.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)(((...e)=>i.login&&i.login(...e)),["prevent"]))},[(0,l.Lk)("div",Fe,[t[3]||(t[3]=(0,l.Lk)("label",{for:"email"},"Email:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),required:"",class:"form-input"},null,512),[[s.Jo,o.email]])]),(0,l.Lk)("div",We,[t[4]||(t[4]=(0,l.Lk)("label",{for:"password"},"Пароль:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),required:"",class:"form-input"},null,512),[[s.Jo,o.password]])]),t[5]||(t[5]=(0,l.Lk)("button",{type:"submit",class:"btn btn-primary"},"Войти",-1)),o.error?((0,l.uX)(),(0,l.CE)("p",Oe,(0,n.v_)(o.error),1)):(0,l.Q3)("",!0)],32)])}var Me={data(){return{email:"",password:"",error:""}},methods:{async login(){try{console.log("Logging in with data:",{email:this.email,password:this.password});const e=await fetch("http://localhost:3000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:this.email,password:this.password})}),t=await e.json();console.log("Login response:",t),e.ok?(localStorage.setItem("token",t.token),this.$router.push("/"),setTimeout((()=>{location.reload()}),500)):this.error=t.message||"Ошибка входа"}catch(e){console.error("Error during login:",e),this.error="Ошибка сервера"}}}};const Ue=(0,L.A)(Me,[["render",Qe],["__scopeId","data-v-0c964ea8"]]);var De=Ue;const qe={class:"container"},Ge={class:"form-group"},He={class:"form-group"},Je={class:"form-group"},Ve={key:0,class:"error"};function Ke(e,t,a,r,o,i){return(0,l.uX)(),(0,l.CE)("div",qe,[t[8]||(t[8]=(0,l.Lk)("h2",null,"Регистрация",-1)),(0,l.Lk)("form",{onSubmit:t[3]||(t[3]=(0,s.D$)(((...e)=>i.register&&i.register(...e)),["prevent"]))},[(0,l.Lk)("div",Ge,[t[4]||(t[4]=(0,l.Lk)("label",{for:"username"},"Имя пользователя:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),required:"",class:"form-input"},null,512),[[s.Jo,o.username]])]),(0,l.Lk)("div",He,[t[5]||(t[5]=(0,l.Lk)("label",{for:"email"},"Email:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>o.email=e),required:"",class:"form-input"},null,512),[[s.Jo,o.email]])]),(0,l.Lk)("div",Je,[t[6]||(t[6]=(0,l.Lk)("label",{for:"password"},"Пароль:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=e=>o.password=e),required:"",class:"form-input"},null,512),[[s.Jo,o.password]])]),t[7]||(t[7]=(0,l.Lk)("button",{type:"submit",class:"btn btn-primary"},"Зарегистрироваться",-1)),o.error?((0,l.uX)(),(0,l.CE)("p",Ve,(0,n.v_)(o.error),1)):(0,l.Q3)("",!0)],32)])}var ze={data(){return{username:"",email:"",password:"",error:""}},methods:{async register(){try{console.log("Registering user with data:",{username:this.username,email:this.email,password:this.password});const e=await fetch("http://localhost:3000/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,email:this.email,password:this.password})}),t=await e.json();console.log("Registration response:",t),e.ok?this.$router.push("/login"):this.error=t.message||"Ошибка регистрации"}catch(e){console.error("Error during registration:",e),this.error="Ошибка сервера"}}}};const Re=(0,L.A)(ze,[["render",Ke],["__scopeId","data-v-4c6411a6"]]);var Ye=Re;const Ze={class:"app-container"},Be={key:0,class:"loading-message"},et={key:1,class:"error-message"},tt={key:2,class:"television-details"},at={class:"product-image-container"},st=["src"],lt={key:1},nt={class:"television-info"},rt={class:"action-buttons"},ot={key:3,class:"error-message"};function it(e,t,a,s,r,o){return(0,l.uX)(),(0,l.CE)("div",Ze,[t[9]||(t[9]=(0,l.Lk)("h1",{class:"page-title"},"Просмотр телевизора",-1)),r.loading?((0,l.uX)(),(0,l.CE)("div",Be,"Загрузка данных...")):r.errorMessage?((0,l.uX)(),(0,l.CE)("div",et,(0,n.v_)(r.errorMessage),1)):r.television?((0,l.uX)(),(0,l.CE)("div",tt,[(0,l.Lk)("div",at,[r.television.photo?((0,l.uX)(),(0,l.CE)("img",{key:0,src:`${r.backendUrl}${r.television.photo}`,alt:"Television Photo",class:"product-image"},null,8,st)):((0,l.uX)(),(0,l.CE)("span",lt,"Нет изображения"))]),(0,l.Lk)("div",nt,[(0,l.Lk)("p",null,[t[1]||(t[1]=(0,l.Lk)("strong",null,"ID:",-1)),(0,l.eW)(" "+(0,n.v_)(r.television.id||"N/A"),1)]),(0,l.Lk)("p",null,[t[2]||(t[2]=(0,l.Lk)("strong",null,"Название модели:",-1)),(0,l.eW)(" "+(0,n.v_)(r.television.name||"N/A"),1)]),(0,l.Lk)("p",null,[t[3]||(t[3]=(0,l.Lk)("strong",null,"Описание:",-1)),(0,l.eW)(" "+(0,n.v_)(r.television.description||"N/A"),1)]),(0,l.Lk)("p",null,[t[4]||(t[4]=(0,l.Lk)("strong",null,"Бренд:",-1)),(0,l.eW)(" "+(0,n.v_)(r.television.brand||"N/A"),1)]),(0,l.Lk)("p",null,[t[5]||(t[5]=(0,l.Lk)("strong",null,"Тип экрана:",-1)),(0,l.eW)(" "+(0,n.v_)(r.television.screenType||"N/A"),1)]),(0,l.Lk)("p",null,[t[6]||(t[6]=(0,l.Lk)("strong",null,"Год выпуска:",-1)),(0,l.eW)(" "+(0,n.v_)(r.television.releaseYear||"N/A"),1)]),(0,l.Lk)("p",null,[t[7]||(t[7]=(0,l.Lk)("strong",null,"В наличии:",-1)),(0,l.Lk)("span",{class:(0,n.C4)(["status",o.getStatusClass(r.television.isInStock)])},(0,n.v_)(r.television.isInStock?"В наличии":"Нет в наличии"),3)]),(0,l.Lk)("p",null,[t[8]||(t[8]=(0,l.Lk)("strong",null,"Цена:",-1)),(0,l.eW)(" "+(0,n.v_)(o.formatPrice(r.television.price)),1)])]),(0,l.Lk)("div",rt,[(0,l.Lk)("button",{class:"btn-secondary",onClick:t[0]||(t[0]=t=>e.$router.push("/televisions"))},"Вернуться к списку")])])):((0,l.uX)(),(0,l.CE)("div",ot,"Не удалось загрузить данные о телевизоре."))])}var ct={data(){return{television:null,loading:!0,errorMessage:null,backendUrl:"http://localhost:3000"}},async created(){const e=this.$route.params.id;if(!/^\d+$/.test(e))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchTelevision(e)},methods:{async fetchTelevision(e){try{const t=await fetch(`${this.backendUrl}/api/view-television/${e}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");if(404===t.status)throw new Error("Телевизор не найден");throw new Error(`HTTP error! Status: ${t.status}`)}const a=await t.json();console.log("Данные телевизора с сервера:",a),this.television=a}catch(t){console.error("Ошибка при получении данных телевизора:",t),this.errorMessage=t.message}finally{this.loading=!1}},formatPrice(e){return"number"!==typeof e||isNaN(e)?"0.00":e.toFixed(2)},getStatusClass(e){return e?"available":"unavailable"}}};const dt=(0,L.A)(ct,[["render",it],["__scopeId","data-v-525556d3"]]);var ut=dt;const vt={class:"app-container"},ht={key:0,class:"loading-message"},gt={key:1,class:"error-message"},pt={key:2,class:"sale-details"},kt={class:"product-image-container"},mt=["src"],bt={key:1},ft={class:"sale-info"},Lt={class:"action-buttons"},yt={key:3,class:"error-message"};function wt(e,t,a,s,r,o){return(0,l.uX)(),(0,l.CE)("div",vt,[t[9]||(t[9]=(0,l.Lk)("h1",{class:"page-title"},"Просмотр продажи",-1)),r.loading?((0,l.uX)(),(0,l.CE)("div",ht,"Загрузка данных...")):r.errorMessage?((0,l.uX)(),(0,l.CE)("div",gt,(0,n.v_)(r.errorMessage),1)):r.sale?((0,l.uX)(),(0,l.CE)("div",pt,[(0,l.Lk)("div",kt,[r.sale.photo?((0,l.uX)(),(0,l.CE)("img",{key:0,src:`${r.backendUrl}${r.sale.photo}`,alt:"Sale Photo",class:"product-image"},null,8,mt)):((0,l.uX)(),(0,l.CE)("span",bt,"Нет изображения"))]),(0,l.Lk)("div",ft,[(0,l.Lk)("p",null,[t[1]||(t[1]=(0,l.Lk)("strong",null,"ID:",-1)),(0,l.eW)(" "+(0,n.v_)(r.sale.id||"N/A"),1)]),(0,l.Lk)("p",null,[t[2]||(t[2]=(0,l.Lk)("strong",null,"Имя клиента:",-1)),(0,l.eW)(" "+(0,n.v_)(r.sale.customerName||"N/A"),1)]),(0,l.Lk)("p",null,[t[3]||(t[3]=(0,l.Lk)("strong",null,"Комментарий:",-1)),(0,l.eW)(" "+(0,n.v_)(r.sale.notes||"N/A"),1)]),(0,l.Lk)("p",null,[t[4]||(t[4]=(0,l.Lk)("strong",null,"Адрес доставки:",-1)),(0,l.eW)(" "+(0,n.v_)(r.sale.deliveryAddress||"N/A"),1)]),(0,l.Lk)("p",null,[t[5]||(t[5]=(0,l.Lk)("strong",null,"Способ оплаты:",-1)),(0,l.eW)(" "+(0,n.v_)(r.sale.paymentMethod||"N/A"),1)]),(0,l.Lk)("p",null,[t[6]||(t[6]=(0,l.Lk)("strong",null,"Год продажи:",-1)),(0,l.eW)(" "+(0,n.v_)(r.sale.saleYear||"N/A"),1)]),(0,l.Lk)("p",null,[t[7]||(t[7]=(0,l.Lk)("strong",null,"Подтверждена:",-1)),(0,l.Lk)("span",{class:(0,n.C4)(["status",o.getStatusClass(r.sale.isConfirmed)])},(0,n.v_)(r.sale.isConfirmed?"Подтверждена":"Не подтверждена"),3)]),(0,l.Lk)("p",null,[t[8]||(t[8]=(0,l.Lk)("strong",null,"Номер заказа:",-1)),(0,l.eW)(" "+(0,n.v_)(r.sale.orderNumber||"N/A"),1)])]),(0,l.Lk)("div",Lt,[(0,l.Lk)("button",{class:"btn-secondary",onClick:t[0]||(t[0]=t=>e.$router.push("/sales"))},"Вернуться к списку")])])):((0,l.uX)(),(0,l.CE)("div",yt,"Не удалось загрузить данные о продаже."))])}var xt={data(){return{sale:null,loading:!0,errorMessage:null,backendUrl:"http://localhost:3000"}},async created(){const e=this.$route.params.id;if(!/^\d+$/.test(e))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchSale(e)},methods:{async fetchSale(e){try{const t=await fetch(`${this.backendUrl}/api/view-sale/${e}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");if(404===t.status)throw new Error("Продажа не найдена");throw new Error(`HTTP error! Status: ${t.status}`)}const a=await t.json();this.sale=a}catch(t){console.error("Ошибка при получении данных продажи:",t),this.errorMessage=t.message}finally{this.loading=!1}},getStatusClass(e){return e?"available":"unavailable"}}};const Ct=(0,L.A)(xt,[["render",wt],["__scopeId","data-v-fa1faf9c"]]);var Et=Ct;const _t=[{path:"/",component:W},{path:"/about",component:V},{path:"/contact",component:re},{path:"/televisions",component:Le},{path:"/sales",component:Ne},{path:"/login",component:De},{path:"/register",component:Ye},{path:"/view-televisions/:id",component:ut},{path:"/view-sales/:id",component:Et}],Pt=(0,x.aE)({history:(0,x.LA)(),routes:_t});var At=Pt;const Xt=(0,s.Ef)(w);Xt.use(At),Xt.mount("#app")}},t={};function a(s){var l=t[s];if(void 0!==l)return l.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,l,n){if(!s){var r=1/0;for(d=0;d<e.length;d++){s=e[d][0],l=e[d][1],n=e[d][2];for(var o=!0,i=0;i<s.length;i++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(o=!1,n<r&&(r=n));if(o){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,l,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var l,n,r=s[0],o=s[1],i=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(l in o)a.o(o,l)&&(a.m[l]=o[l]);if(i)var d=i(a)}for(t&&t(s);c<r.length;c++)n=r[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},s=self["webpackChunkvueapp"]=self["webpackChunkvueapp"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(1201)}));s=a.O(s)})();
//# sourceMappingURL=app.0091615c.js.map