(function(){"use strict";var t={2953:function(t,e,a){var s=a(5130),r=a(6768),l=a(4232);const n={class:"wrapper"},o={class:"right-panel"},i={class:"logo-container"},c={class:"nav-buttons"},d={class:"button-list"},u={key:0},k={key:1},h={key:2},g={key:3},v={key:4,class:"welcome-message"},p={key:5},m={key:6};function f(t,e,a,s,f,b){const L=(0,r.g2)("router-view"),y=(0,r.g2)("TheWelcome"),w=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("header",null,[(0,r.Lk)("div",n,[(0,r.bF)(L)]),e[1]||(e[1]=(0,r.Lk)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap",rel:"stylesheet"},null,-1))]),(0,r.Lk)("main",null,[(0,r.bF)(y)]),(0,r.Lk)("aside",o,[(0,r.Lk)("div",i,[(0,r.bF)(w,{to:"/"},{default:(0,r.k6)((()=>e[2]||(e[2]=[(0,r.Lk)("img",{src:"/images/logo.png",alt:"Logo",class:"logo"},null,-1)]))),_:1})]),(0,r.Lk)("nav",c,[(0,r.Lk)("ul",d,[(0,r.Lk)("li",null,[(0,r.bF)(w,{to:"/",class:"button"},{default:(0,r.k6)((()=>e[3]||(e[3]=[(0,r.eW)("Главная")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(w,{to:"/about",class:"button"},{default:(0,r.k6)((()=>e[4]||(e[4]=[(0,r.eW)("О нас")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(w,{to:"/contact",class:"button"},{default:(0,r.k6)((()=>e[5]||(e[5]=[(0,r.eW)("Контакты")]))),_:1})]),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",u,[(0,r.bF)(w,{to:"/artists",class:"button"},{default:(0,r.k6)((()=>e[6]||(e[6]=[(0,r.eW)("Исполнители")]))),_:1})])):(0,r.Q3)("",!0),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",k,[(0,r.bF)(w,{to:"/audiotracks",class:"button"},{default:(0,r.k6)((()=>e[7]||(e[7]=[(0,r.eW)("Аудиотреки")]))),_:1})])):(0,r.Q3)("",!0),f.isAuthenticated?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("li",h,[(0,r.bF)(w,{to:"/login",class:"button"},{default:(0,r.k6)((()=>e[8]||(e[8]=[(0,r.eW)("Войти")]))),_:1})])),f.isAuthenticated?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("li",g,[(0,r.bF)(w,{to:"/register",class:"button"},{default:(0,r.k6)((()=>e[9]||(e[9]=[(0,r.eW)("Зарегистрироваться")]))),_:1})])),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",v,[(0,r.Lk)("span",null,"Добро пожаловать, "+(0,l.v_)(f.username),1)])):(0,r.Q3)("",!0),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",p,[(0,r.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>b.logout&&b.logout(...t)),class:"button"},"Выйти")])):(0,r.Q3)("",!0),f.isAuthenticated&&"admin"===f.role?((0,r.uX)(),(0,r.CE)("li",m,e[10]||(e[10]=[(0,r.Lk)("a",{href:"http://localhost:3000",class:"admin-button"},"Админ-панель",-1)]))):(0,r.Q3)("",!0)])])])],64)}a(4114);var b={data(){return{isAuthenticated:!1,username:"",role:""}},created(){this.checkAuth()},methods:{async checkAuth(){try{const t=await fetch("http://localhost:3000/auth/check",{method:"GET",credentials:"include"}),e=await t.json();t.ok?(this.isAuthenticated=!0,this.username=e.username||"Пользователь",this.role=e.role||""):(console.error("Токен недействителен:",e.message),this.isAuthenticated=!1,this.username="",this.role="")}catch(t){console.error("Ошибка проверки авторизации:",t),this.isAuthenticated=!1,this.username="",this.role=""}},async logout(){try{const t=await fetch("http://localhost:3000/auth/logout",{method:"GET",credentials:"include"});t.ok?(this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")):console.error("Сервер вернул ошибку при выходе")}catch(t){console.error("Ошибка выхода:",t),this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")}}}},L=a(1241);const y=(0,L.A)(b,[["render",f],["__scopeId","data-v-518fa18c"]]);var w=y,x=a(1387);const _={class:"container"},A={class:"flex flex-col sm:flex-row gap-6 mb-10 justify-center"},E=["src","alt"],C={class:"card-body"},P={class:"text-xl font-bold text-center mb-3"},X={class:"card-text text-center"},$={class:"grid grid-cols-1 md:grid-cols-1 gap-6 mb-12"},I={class:"content-block card fade-in",style:{animationDelay:"0.2s"}},T={class:"text-lg space-y-4"},N={class:"text-gray-600"};function F(t,e,a,s,n,o){return(0,r.uX)(),(0,r.CE)("main",null,[(0,r.Lk)("div",_,[e[2]||(e[2]=(0,r.Lk)("h1",{class:"page-title"},"Аудиотека",-1)),(0,r.Lk)("div",A,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.services,((t,e)=>((0,r.uX)(),(0,r.CE)("div",{class:"image-block-centered card fade-in",key:e,style:(0,l.Tr)({animationDelay:.2*e+"s"})},[(0,r.Lk)("img",{src:t.image,alt:t.name,class:"img-block h-48 w-full object-cover"},null,8,E),(0,r.Lk)("div",C,[(0,r.Lk)("h5",P,(0,l.v_)(t.name),1),(0,r.Lk)("p",X,(0,l.v_)(t.description),1)])],4)))),128))]),(0,r.Lk)("div",$,[(0,r.Lk)("div",I,[e[1]||(e[1]=(0,r.Lk)("h4",{class:"text-2xl font-bold mb-4 text-center"},"Почему мы?",-1)),(0,r.Lk)("ul",T,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.reasons,((t,a)=>((0,r.uX)(),(0,r.CE)("li",{class:"flex items-center bg-white bg-opacity-20 p-3 rounded-lg fade-in",key:a,style:(0,l.Tr)({animationDelay:.2*(a+1)+"s"})},[e[0]||(e[0]=(0,r.Lk)("span",{class:"text-green-500 mr-3 text-2xl"},"✅",-1)),(0,r.Lk)("span",N,(0,l.v_)(t),1)],4)))),128))])])])])])}a(8111),a(7588);var O={name:"HomePage",data(){return{services:[{name:"Поп-хиты",description:"Яркие и запоминающиеся треки от мировых поп-звезд для вечеринок и хорошего настроения.",image:"/images/1.png"},{name:"Рок-классика",description:"Легендарные рок-композиции с мощными гитарными риффами для любителей драйва.",image:"/images/2.png"},{name:"Электронные вайбы",description:"Пульсирующие биты и атмосферные треки для ночных танцев и креативной работы.",image:"/images/3.jpeg"}],reasons:["Обширная коллекция музыки для всех жанров и вкусов","Высокое качество аудио и эксклюзивные релизы","Персонализированные плейлисты и поддержка артистов"]}},mounted(){try{const t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((e=>{t.observe(e)}))}catch(t){console.error("Error setting up IntersectionObserver:",t)}}};const W=(0,L.A)(O,[["render",F],["__scopeId","data-v-55cb1162"]]);var j=W;const S={class:"container"},Q={class:"content-block fade-in",ref:"block1"},M={class:"content-block fade-in",ref:"block2"},U={class:"content-block fade-in",ref:"block3"},D={class:"content-block fade-in",ref:"block4"},q={class:"content-block fade-in",ref:"block5"};function G(t,e,a,s,l,n){return(0,r.uX)(),(0,r.CE)("main",null,[(0,r.Lk)("div",S,[e[5]||(e[5]=(0,r.Lk)("h1",{class:"page-title"},"Об аудиотеке",-1)),(0,r.Lk)("div",Q,e[0]||(e[0]=[(0,r.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-c86e07c4><div class="md:w-1/2 text-block" data-v-c86e07c4><h2 class="text-2xl font-bold mb-4" data-v-c86e07c4>Разнообразие жанров</h2><p class="fs-5" data-v-c86e07c4> От классической музыки до современного хип-хопа, от рока до электроники — у нас есть треки для каждого настроения. </p></div><div class="md:w-1/2 image-block" data-v-c86e07c4><img src="/images/11.jpg" alt="Разнообразие жанров" class="img-block" data-v-c86e07c4></div></div>',1)]),512),(0,r.Lk)("div",M,e[1]||(e[1]=[(0,r.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-c86e07c4><div class="md:w-1/2 image-block order-2 md:order-1" data-v-c86e07c4><img src="/images/22.png" alt="Высокое качество звука" class="img-block" data-v-c86e07c4></div><div class="md:w-1/2 text-block order-1 md:order-2" data-v-c86e07c4><h2 class="text-2xl font-bold mb-4" data-v-c86e07c4>Высокое качество звука</h2><p class="fs-5" data-v-c86e07c4> Все треки доступны в форматах высокого разрешения, включая FLAC и MP3, для идеального звучания. </p></div></div>',1)]),512),(0,r.Lk)("div",U,e[2]||(e[2]=[(0,r.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-c86e07c4><div class="md:w-1/2 text-block" data-v-c86e07c4><h2 class="text-2xl font-bold mb-4" data-v-c86e07c4>Кураторские плейлисты</h2><p class="fs-5" data-v-c86e07c4> Наши эксперты создают плейлисты для работы, отдыха, спорта и вечеринок, чтобы музыка всегда была с вами. </p></div><div class="md:w-1/2 image-block" data-v-c86e07c4><img src="/images/33.png" alt="Кураторские плейлисты" class="img-block" data-v-c86e07c4></div></div>',1)]),512),(0,r.Lk)("div",D,e[3]||(e[3]=[(0,r.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-c86e07c4><div class="md:w-1/2 image-block order-2 md:order-1" data-v-c86e07c4><img src="/images/44.png" alt="Эксклюзивные релизы" class="img-block" data-v-c86e07c4></div><div class="md:w-1/2 text-block order-1 md:order-2" data-v-c86e07c4><h2 class="text-2xl font-bold mb-4" data-v-c86e07c4>Эксклюзивные релизы</h2><p class="fs-5" data-v-c86e07c4> Новые треки и альбомы от независимых артистов и известных музыкантов, доступные только у нас. </p></div></div>',1)]),512),(0,r.Lk)("div",q,e[4]||(e[4]=[(0,r.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-c86e07c4><div class="md:w-1/2 text-block" data-v-c86e07c4><h2 class="text-2xl font-bold mb-4" data-v-c86e07c4>Поддержка сообщества</h2><p class="fs-5" data-v-c86e07c4> Мы сотрудничаем с молодыми артистами, помогая им делиться своей музыкой с миром. </p></div><div class="md:w-1/2 image-block" data-v-c86e07c4><img src="/images/55.png" alt="Поддержка сообщества" class="img-block" data-v-c86e07c4></div></div>',1)]),512)])])}var H={name:"AboutPage",mounted(){try{const t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((e=>{t.observe(e)}))}catch(t){console.error("Error setting up IntersectionObserver:",t)}}};const J=(0,L.A)(H,[["render",G],["__scopeId","data-v-c86e07c4"]]);var V=J;const K={class:"container"},z={class:"mb-12"},R={class:"employees-row"},Z={class:"card"},B=["src","alt"],Y={class:"card-body"},tt={class:"card-title"},et={class:"card-text"},at={class:"card-text text-gray-600"};function st(t,e,a,s,n,o){return(0,r.uX)(),(0,r.CE)("main",null,[(0,r.Lk)("div",K,[e[1]||(e[1]=(0,r.Fv)('<h1 class="page-title" data-v-6773d79f>Наша команда</h1><div class="content-block fade-in mb-12" data-v-6773d79f><div class="text-block" data-v-6773d79f><h2 class="text-2xl font-bold text-center mb-4" data-v-6773d79f>О нашем сервисе</h2><p class="fs-5 text-center" data-v-6773d79f> Сервис &quot;Аудиотека&quot; — это платформа для прослушивания и покупки музыки. Мы предлагаем эксклюзивные музыкальные коллекции и кураторские плейлисты для всех жанров и вкусов. </p></div></div>',2)),(0,r.Lk)("div",z,[e[0]||(e[0]=(0,r.Lk)("h2",{class:"text-2xl font-bold text-center mb-6"},"Наша команда",-1)),(0,r.Lk)("div",R,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.employees,((t,e)=>((0,r.uX)(),(0,r.CE)("div",{class:"employee-card photo-card fade-in",key:e,style:(0,l.Tr)({animationDelay:.2*e+"s"})},[(0,r.Lk)("div",Z,[(0,r.Lk)("img",{src:t.image,alt:t.name,class:"card-img-top"},null,8,B),(0,r.Lk)("div",Y,[(0,r.Lk)("h3",tt,(0,l.v_)(t.name),1),(0,r.Lk)("p",et,(0,l.v_)(t.role),1),(0,r.Lk)("p",at,"Стаж: "+(0,l.v_)(t.experience),1)])])],4)))),128))])]),e[2]||(e[2]=(0,r.Fv)('<div class="content-block fade-in" data-v-6773d79f><div class="text-block" data-v-6773d79f><h2 class="text-2xl font-bold text-center mb-6" data-v-6773d79f>Наши услуги</h2></div><div class="grid grid-cols-1 md:grid-cols-3 gap-6" data-v-6773d79f><div class="text-center fade-in" style="animation-delay:0.2s;" data-v-6773d79f><h3 class="text-xl font-bold mb-2" data-v-6773d79f>+ Персонализированные плейлисты</h3><p class="text-gray-600" data-v-6773d79f>Кураторские подборки музыки под ваше настроение и стиль жизни.</p></div><div class="text-center fade-in" style="animation-delay:0.4s;" data-v-6773d79f><h3 class="text-xl font-bold mb-2" data-v-6773d79f>+ Эксклюзивные релизы</h3><p class="text-gray-600" data-v-6773d79f>Новые треки и альбомы, доступные только на нашей платформе.</p></div><div class="text-center fade-in" style="animation-delay:0.6s;" data-v-6773d79f><h3 class="text-xl font-bold mb-2" data-v-6773d79f>+ Поддержка артистов</h3><p class="text-gray-600" data-v-6773d79f>Сотрудничество с молодыми музыкантами для продвижения их творчества.</p></div></div></div>',1))])])}var rt={name:"ContactPage",data(){return{employees:[{name:"Алексей Ковалёв",role:"Куратор музыкальных подборок",experience:"7 лет",image:"/images/a1.png"},{name:"Екатерина Смирнова",role:"Специалист по работе с артистами",experience:"5 лет",image:"/images/a2.jpg"},{name:"Дмитрий Попов",role:"Менеджер по контенту",experience:"9 лет",image:"/images/a3.png"},{name:"Анастасия Лебедева",role:"Специалист по продвижению музыки",experience:"4 года",image:"/images/a4.png"},{name:"Мария Зайцева",role:"Менеджер по клиентскому сервису",experience:"6 лет",image:"/images/a5.png"},{name:"Сергей Иванов",role:"Технический специалист по аудио",experience:"3 года",image:"/images/a6.jpg"}]}},mounted(){try{const t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((e=>{t.observe(e)}))}catch(t){console.error("Error setting up IntersectionObserver:",t)}}};const lt=(0,L.A)(rt,[["render",st],["__scopeId","data-v-6773d79f"]]);var nt=lt;const ot={class:"app-container"},it={class:"table-container"},ct={class:"styled-table audiotracks-table"},dt=["src"],ut={key:1},kt={class:"action-buttons"},ht={key:0,class:"no-data"},gt={key:1,class:"pagination"},vt=["disabled"],pt=["disabled"];function mt(t,e,a,s,n,o){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[e[5]||(e[5]=(0,r.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),(0,r.Lk)("div",ot,[e[4]||(e[4]=(0,r.Lk)("h1",{class:"page-title"},"Список аудиотреков",-1)),(0,r.Lk)("div",it,[(0,r.Lk)("table",ct,[e[3]||(e[3]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Название"),(0,r.Lk)("th",null,"Исполнитель"),(0,r.Lk)("th",null,"Альбом"),(0,r.Lk)("th",null,"Длительность"),(0,r.Lk)("th",null,"Жанр"),(0,r.Lk)("th",null,"Воспроизведений"),(0,r.Lk)("th",null,"Год выпуска"),(0,r.Lk)("th",null,"Фото"),(0,r.Lk)("th",null,"Действия")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.audiotracks,((t,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:t.id},[(0,r.Lk)("td",null,(0,l.v_)((n.currentPage-1)*n.pageSize+a+1),1),(0,r.Lk)("td",null,(0,l.v_)(t.title||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(t.artist||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(t.album||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(o.formatDuration(t.duration)||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(t.genre||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(t.play_count||"0"),1),(0,r.Lk)("td",null,(0,l.v_)(t.release_year||"N/A"),1),(0,r.Lk)("td",null,[t.photo?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${n.backendUrl}${t.photo}`,alt:"Audiotrack Photo",class:"product-image"},null,8,dt)):((0,r.uX)(),(0,r.CE)("span",ut,"N/A"))]),(0,r.Lk)("td",null,[(0,r.Lk)("div",kt,[(0,r.bF)(i,{to:`/view-audiotracks/${t.id}`,class:"action-btn view-icon"},{default:(0,r.k6)((()=>e[2]||(e[2]=[(0,r.Lk)("i",{class:"fas fa-eye"},null,-1)]))),_:2},1032,["to"])])])])))),128))])]),n.audiotracks.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",ht,"Нет аудиотреков")),n.totalPages>1?((0,r.uX)(),(0,r.CE)("div",gt,[(0,r.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>o.prevPage&&o.prevPage(...t)),disabled:1===n.currentPage},"← Предыдущая",8,vt),(0,r.Lk)("span",null,"Страница "+(0,l.v_)(n.currentPage)+" из "+(0,l.v_)(n.totalPages),1),(0,r.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>o.nextPage&&o.nextPage(...t)),disabled:n.currentPage===n.totalPages},"Следующая →",8,pt)])):(0,r.Q3)("",!0)])])])}var ft={data(){return{audiotracks:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"http://localhost:3000"}},async created(){await this.fetchAudiotracks()},methods:{async fetchAudiotracks(){try{const t=await fetch(`${this.backendUrl}/api/audiotracks?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${t.status}`)}const e=await t.json();this.audiotracks=e.audiotracks||[],this.totalPages=e.totalPages||0,this.currentPage=e.currentPage||1}catch(t){console.error("Ошибка при получении аудиотреков:",t),this.audiotracks=[],this.totalPages=0}},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchAudiotracks())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchAudiotracks())},formatDuration(t){if(!t)return"N/A";const e=Math.floor(t/60),a=t%60;return`${e}:${a<10?"0":""}${a}`}}};const bt=(0,L.A)(ft,[["render",mt],["__scopeId","data-v-277b186b"]]);var Lt=bt;const yt={class:"app-container"},wt={class:"table-container"},xt={class:"styled-table artists-table"},_t=["src"],At={key:1},Et={class:"action-buttons"},Ct={key:0,class:"no-data"},Pt={key:1,class:"pagination"},Xt=["disabled"],$t=["disabled"];function It(t,e,a,s,n,o){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[e[5]||(e[5]=(0,r.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),(0,r.Lk)("div",yt,[e[4]||(e[4]=(0,r.Lk)("h1",{class:"page-title"},"Список исполнителей",-1)),(0,r.Lk)("div",wt,[(0,r.Lk)("table",xt,[e[3]||(e[3]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Имя"),(0,r.Lk)("th",null,"Биография"),(0,r.Lk)("th",null,"Страна"),(0,r.Lk)("th",null,"Жанр"),(0,r.Lk)("th",null,"Год основания"),(0,r.Lk)("th",null,"Активен"),(0,r.Lk)("th",null,"Лейбл"),(0,r.Lk)("th",null,"Фото"),(0,r.Lk)("th",null,"Действия")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.artists,((t,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:t.id},[(0,r.Lk)("td",null,(0,l.v_)((n.currentPage-1)*n.pageSize+a+1),1),(0,r.Lk)("td",null,(0,l.v_)(t.name||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(t.bio?t.bio.slice(0,50)+(t.bio.length>50?"...":""):"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(t.country||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(t.genre||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(t.formed_year||"N/A"),1),(0,r.Lk)("td",null,[(0,r.Lk)("span",{class:(0,l.C4)(["status",o.getStatusClass(t.is_active)])},(0,l.v_)(t.is_active?"Активен":"Неактивен"),3)]),(0,r.Lk)("td",null,(0,l.v_)(t.label||"N/A"),1),(0,r.Lk)("td",null,[t.photo?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${n.backendUrl}${t.photo}`,alt:"Artist Photo",class:"product-image"},null,8,_t)):((0,r.uX)(),(0,r.CE)("span",At,"N/A"))]),(0,r.Lk)("td",null,[(0,r.Lk)("div",Et,[(0,r.bF)(i,{to:`/view-artists/${t.id}`,class:"action-btn view-icon"},{default:(0,r.k6)((()=>e[2]||(e[2]=[(0,r.Lk)("i",{class:"fas fa-eye"},null,-1)]))),_:2},1032,["to"])])])])))),128))])]),n.artists.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",Ct,"Нет исполнителей")),n.totalPages>1?((0,r.uX)(),(0,r.CE)("div",Pt,[(0,r.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>o.prevPage&&o.prevPage(...t)),disabled:1===n.currentPage},"← Предыдущая",8,Xt),(0,r.Lk)("span",null,"Страница "+(0,l.v_)(n.currentPage)+" из "+(0,l.v_)(n.totalPages),1),(0,r.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>o.nextPage&&o.nextPage(...t)),disabled:n.currentPage===n.totalPages},"Следующая →",8,$t)])):(0,r.Q3)("",!0)])])])}var Tt={data(){return{artists:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"http://localhost:3000"}},async created(){await this.fetchArtists()},methods:{async fetchArtists(){try{const t=await fetch(`${this.backendUrl}/api/artists?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${t.status}`)}const e=await t.json();this.artists=e.artists||[],this.totalPages=e.totalPages||0,this.currentPage=e.currentPage||1}catch(t){console.error("Ошибка при получении исполнителей:",t),this.artists=[],this.totalPages=0}},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchArtists())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchArtists())},getStatusClass(t){return t?"available":"unavailable"}}};const Nt=(0,L.A)(Tt,[["render",It],["__scopeId","data-v-76b21fbd"]]);var Ft=Nt;const Ot={class:"container"},Wt={class:"form-group"},jt={class:"form-group"},St={key:0,class:"error"};function Qt(t,e,a,n,o,i){return(0,r.uX)(),(0,r.CE)("div",Ot,[e[6]||(e[6]=(0,r.Lk)("h2",null,"Вход",-1)),(0,r.Lk)("form",{onSubmit:e[2]||(e[2]=(0,s.D$)(((...t)=>i.login&&i.login(...t)),["prevent"]))},[(0,r.Lk)("div",Wt,[e[3]||(e[3]=(0,r.Lk)("label",{for:"email"},"Email:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>o.email=t),required:"",class:"form-input"},null,512),[[s.Jo,o.email]])]),(0,r.Lk)("div",jt,[e[4]||(e[4]=(0,r.Lk)("label",{for:"password"},"Пароль:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>o.password=t),required:"",class:"form-input"},null,512),[[s.Jo,o.password]])]),e[5]||(e[5]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"Войти",-1)),o.error?((0,r.uX)(),(0,r.CE)("p",St,(0,l.v_)(o.error),1)):(0,r.Q3)("",!0)],32)])}var Mt={data(){return{email:"",password:"",error:""}},methods:{async login(){try{console.log("Logging in with data:",{email:this.email,password:this.password});const t=await fetch("http://localhost:3000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:this.email,password:this.password})}),e=await t.json();console.log("Login response:",e),t.ok?(localStorage.setItem("token",e.token),this.$router.push("/"),setTimeout((()=>{location.reload()}),500)):this.error=e.message||"Ошибка входа"}catch(t){console.error("Error during login:",t),this.error="Ошибка сервера"}}}};const Ut=(0,L.A)(Mt,[["render",Qt],["__scopeId","data-v-0c964ea8"]]);var Dt=Ut;const qt={class:"container"},Gt={class:"form-group"},Ht={class:"form-group"},Jt={class:"form-group"},Vt={key:0,class:"error"};function Kt(t,e,a,n,o,i){return(0,r.uX)(),(0,r.CE)("div",qt,[e[8]||(e[8]=(0,r.Lk)("h2",null,"Регистрация",-1)),(0,r.Lk)("form",{onSubmit:e[3]||(e[3]=(0,s.D$)(((...t)=>i.register&&i.register(...t)),["prevent"]))},[(0,r.Lk)("div",Gt,[e[4]||(e[4]=(0,r.Lk)("label",{for:"username"},"Имя пользователя:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=t=>o.username=t),required:"",class:"form-input"},null,512),[[s.Jo,o.username]])]),(0,r.Lk)("div",Ht,[e[5]||(e[5]=(0,r.Lk)("label",{for:"email"},"Email:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=t=>o.email=t),required:"",class:"form-input"},null,512),[[s.Jo,o.email]])]),(0,r.Lk)("div",Jt,[e[6]||(e[6]=(0,r.Lk)("label",{for:"password"},"Пароль:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[2]||(e[2]=t=>o.password=t),required:"",class:"form-input"},null,512),[[s.Jo,o.password]])]),e[7]||(e[7]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"Зарегистрироваться",-1)),o.error?((0,r.uX)(),(0,r.CE)("p",Vt,(0,l.v_)(o.error),1)):(0,r.Q3)("",!0)],32)])}var zt={data(){return{username:"",email:"",password:"",error:""}},methods:{async register(){try{console.log("Registering user with data:",{username:this.username,email:this.email,password:this.password});const t=await fetch("http://localhost:3000/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,email:this.email,password:this.password})}),e=await t.json();console.log("Registration response:",e),t.ok?this.$router.push("/login"):this.error=e.message||"Ошибка регистрации"}catch(t){console.error("Error during registration:",t),this.error="Ошибка сервера"}}}};const Rt=(0,L.A)(zt,[["render",Kt],["__scopeId","data-v-4c6411a6"]]);var Zt=Rt;const Bt={class:"app-container"},Yt={key:0,class:"loading-message"},te={key:1,class:"error-message"},ee={key:2,class:"audiotrack-details"},ae={class:"product-image-container"},se=["src"],re={key:1},le={class:"audiotrack-info"},ne={class:"action-buttons"},oe={key:3,class:"error-message"};function ie(t,e,a,s,n,o){return(0,r.uX)(),(0,r.CE)("div",Bt,[e[8]||(e[8]=(0,r.Lk)("h1",{class:"page-title"},"Просмотр аудиотрека",-1)),n.loading?((0,r.uX)(),(0,r.CE)("div",Yt,"Загрузка данных...")):n.errorMessage?((0,r.uX)(),(0,r.CE)("div",te,(0,l.v_)(n.errorMessage),1)):n.audiotrack?((0,r.uX)(),(0,r.CE)("div",ee,[(0,r.Lk)("div",ae,[n.audiotrack.photo?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${n.backendUrl}${n.audiotrack.photo}`,alt:"Audiotrack Photo",class:"product-image"},null,8,se)):((0,r.uX)(),(0,r.CE)("span",re,"Нет изображения"))]),(0,r.Lk)("div",le,[(0,r.Lk)("p",null,[e[1]||(e[1]=(0,r.Lk)("strong",null,"Название:",-1)),(0,r.eW)(" "+(0,l.v_)(n.audiotrack.title||"N/A"),1)]),(0,r.Lk)("p",null,[e[2]||(e[2]=(0,r.Lk)("strong",null,"Исполнитель:",-1)),(0,r.eW)(" "+(0,l.v_)(n.audiotrack.artist||"N/A"),1)]),(0,r.Lk)("p",null,[e[3]||(e[3]=(0,r.Lk)("strong",null,"Альбом:",-1)),(0,r.eW)(" "+(0,l.v_)(n.audiotrack.album||"N/A"),1)]),(0,r.Lk)("p",null,[e[4]||(e[4]=(0,r.Lk)("strong",null,"Длительность:",-1)),(0,r.eW)(" "+(0,l.v_)(o.formatDuration(n.audiotrack.duration)||"N/A"),1)]),(0,r.Lk)("p",null,[e[5]||(e[5]=(0,r.Lk)("strong",null,"Жанр:",-1)),(0,r.eW)(" "+(0,l.v_)(n.audiotrack.genre||"N/A"),1)]),(0,r.Lk)("p",null,[e[6]||(e[6]=(0,r.Lk)("strong",null,"Количество воспроизведений:",-1)),(0,r.eW)(" "+(0,l.v_)(n.audiotrack.play_count||"0"),1)]),(0,r.Lk)("p",null,[e[7]||(e[7]=(0,r.Lk)("strong",null,"Год выпуска:",-1)),(0,r.eW)(" "+(0,l.v_)(n.audiotrack.release_year||"N/A"),1)])]),(0,r.Lk)("div",ne,[(0,r.Lk)("button",{class:"btn-secondary",onClick:e[0]||(e[0]=e=>t.$router.push("/audiotracks"))},"Вернуться к списку")])])):((0,r.uX)(),(0,r.CE)("div",oe,"Не удалось загрузить данные об аудиотреке."))])}var ce={data(){return{audiotrack:null,loading:!0,errorMessage:null,backendUrl:"http://localhost:3000"}},async created(){const t=this.$route.params.id;if(!/^\d+$/.test(t))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchAudiotrack(t)},methods:{async fetchAudiotrack(t){try{const e=await fetch(`${this.backendUrl}/api/view-audiotrack/${t}`,{method:"GET",credentials:"include"});if(!e.ok){if(401===e.status)return void this.$router.push("/login");if(404===e.status)throw new Error("Аудиотрек не найден");throw new Error(`HTTP error! Status: ${e.status}`)}const a=await e.json();this.audiotrack=a}catch(e){console.error("Ошибка при получении данных аудиотрека:",e),this.errorMessage=e.message}finally{this.loading=!1}},formatDuration(t){if(!t)return"N/A";const e=Math.floor(t/60),a=t%60;return`${e}:${a<10?"0":""}${a}`}}};const de=(0,L.A)(ce,[["render",ie],["__scopeId","data-v-701f8217"]]);var ue=de;const ke={class:"app-container"},he={key:0,class:"loading-message"},ge={key:1,class:"error-message"},ve={key:2,class:"artist-details"},pe={class:"product-image-container"},me=["src"],fe={key:1},be={class:"artist-info"},Le={class:"action-buttons"},ye={key:3,class:"error-message"};function we(t,e,a,s,n,o){return(0,r.uX)(),(0,r.CE)("div",ke,[e[8]||(e[8]=(0,r.Lk)("h1",{class:"page-title"},"Просмотр исполнителя",-1)),n.loading?((0,r.uX)(),(0,r.CE)("div",he,"Загрузка данных...")):n.errorMessage?((0,r.uX)(),(0,r.CE)("div",ge,(0,l.v_)(n.errorMessage),1)):n.artist?((0,r.uX)(),(0,r.CE)("div",ve,[(0,r.Lk)("div",pe,[n.artist.photo?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${n.backendUrl}${n.artist.photo}`,alt:"Artist Photo",class:"product-image"},null,8,me)):((0,r.uX)(),(0,r.CE)("span",fe,"Нет изображения"))]),(0,r.Lk)("div",be,[(0,r.Lk)("p",null,[e[1]||(e[1]=(0,r.Lk)("strong",null,"Имя:",-1)),(0,r.eW)(" "+(0,l.v_)(n.artist.name||"N/A"),1)]),(0,r.Lk)("p",null,[e[2]||(e[2]=(0,r.Lk)("strong",null,"Биография:",-1)),(0,r.eW)(" "+(0,l.v_)(n.artist.bio||"N/A"),1)]),(0,r.Lk)("p",null,[e[3]||(e[3]=(0,r.Lk)("strong",null,"Страна:",-1)),(0,r.eW)(" "+(0,l.v_)(n.artist.country||"N/A"),1)]),(0,r.Lk)("p",null,[e[4]||(e[4]=(0,r.Lk)("strong",null,"Жанр:",-1)),(0,r.eW)(" "+(0,l.v_)(n.artist.genre||"N/A"),1)]),(0,r.Lk)("p",null,[e[5]||(e[5]=(0,r.Lk)("strong",null,"Год основания:",-1)),(0,r.eW)(" "+(0,l.v_)(n.artist.formed_year||"N/A"),1)]),(0,r.Lk)("p",null,[e[6]||(e[6]=(0,r.Lk)("strong",null,"Активен:",-1)),(0,r.Lk)("span",{class:(0,l.C4)(["status",o.getStatusClass(n.artist.is_active)])},(0,l.v_)(n.artist.is_active?"Активен":"Неактивен"),3)]),(0,r.Lk)("p",null,[e[7]||(e[7]=(0,r.Lk)("strong",null,"Лейбл:",-1)),(0,r.eW)(" "+(0,l.v_)(n.artist.label||"N/A"),1)])]),(0,r.Lk)("div",Le,[(0,r.Lk)("button",{class:"btn-secondary",onClick:e[0]||(e[0]=e=>t.$router.push("/artists"))},"Вернуться к списку")])])):((0,r.uX)(),(0,r.CE)("div",ye,"Не удалось загрузить данные об исполнителе."))])}var xe={data(){return{artist:null,loading:!0,errorMessage:null,backendUrl:"http://localhost:3000"}},async created(){const t=this.$route.params.id;if(!/^\d+$/.test(t))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchArtist(t)},methods:{async fetchArtist(t){try{const e=await fetch(`${this.backendUrl}/api/view-artist/${t}`,{method:"GET",credentials:"include"});if(!e.ok){if(401===e.status)return void this.$router.push("/login");if(404===e.status)throw new Error("Исполнитель не найден");throw new Error(`HTTP error! Status: ${e.status}`)}const a=await e.json();this.artist=a}catch(e){console.error("Ошибка при получении данных исполнителя:",e),this.errorMessage=e.message}finally{this.loading=!1}},getStatusClass(t){return t?"available":"unavailable"}}};const _e=(0,L.A)(xe,[["render",we],["__scopeId","data-v-bc0e83de"]]);var Ae=_e;const Ee=[{path:"/",component:j},{path:"/about",component:V},{path:"/contact",component:nt},{path:"/audiotracks",component:Lt},{path:"/artists",component:Ft},{path:"/login",component:Dt},{path:"/register",component:Zt},{path:"/view-audiotracks/:id",component:ue},{path:"/view-artists/:id",component:Ae}],Ce=(0,x.aE)({history:(0,x.LA)(),routes:Ee});var Pe=Ce;const Xe=(0,s.Ef)(w);Xe.use(Pe),Xe.mount("#app")}},e={};function a(s){var r=e[s];if(void 0!==r)return r.exports;var l=e[s]={exports:{}};return t[s].call(l.exports,l,l.exports,a),l.exports}a.m=t,function(){var t=[];a.O=function(e,s,r,l){if(!s){var n=1/0;for(d=0;d<t.length;d++){s=t[d][0],r=t[d][1],l=t[d][2];for(var o=!0,i=0;i<s.length;i++)(!1&l||n>=l)&&Object.keys(a.O).every((function(t){return a.O[t](s[i])}))?s.splice(i--,1):(o=!1,l<n&&(n=l));if(o){t.splice(d--,1);var c=r();void 0!==c&&(e=c)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[s,r,l]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,l,n=s[0],o=s[1],i=s[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(i)var d=i(a)}for(e&&e(s);c<n.length;c++)l=n[c],a.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return a.O(d)},s=self["webpackChunkvueapp"]=self["webpackChunkvueapp"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(2953)}));s=a.O(s)})();
//# sourceMappingURL=app.75204d96.js.map